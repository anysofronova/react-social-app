"use strict";(self.webpackChunkreact_social_app=self.webpackChunkreact_social_app||[]).push([[860],{7860:function(e,t,s){s.r(t),s.d(t,{default:function(){return D}});var r=s(5671),n=s(3144),i=s(136),o=s(8347),a=s(1413),l=s(2791),u=s(885),c=s(8516),d=s(6164),p=s(184),f=function(e){var t=e.updateUserStatus,s=e.status,r=(0,l.useState)(!1),n=(0,u.Z)(r,2),i=n[0],o=n[1],a=(0,l.useState)(s),c=(0,u.Z)(a,2),d=c[0],f=c[1];(0,l.useEffect)((function(){f(s)}),[s]);var h=function(){i&&t(d),o(!i)};return(0,p.jsx)("div",{className:"profileStatus",children:i?(0,p.jsx)("input",{value:d,type:"text",className:"profileStatus__input",onBlur:h,autoFocus:!0,placeholder:"Put your status",onChange:function(e){f(e.currentTarget.value)}}):(0,p.jsx)("div",{className:"profileStatus__status",onDoubleClick:h,children:s||"The user has hidden the information"})})},h=s(9126),x=s(5880),j=function(e){var t=e.contacts;return(0,p.jsxs)("div",{className:"profile__contacts",children:[t.github?(0,p.jsx)("a",{href:t.github,target:"_blank",rel:"noopener noreferrer",children:(0,p.jsx)(h.rFR,{})}):null,t.vk?(0,p.jsx)("a",{href:t.vk,target:"_blank",rel:"noopener noreferrer",children:(0,p.jsx)(h.fFq,{})}):null,t.facebook?(0,p.jsx)("a",{href:t.facebook,target:"_blank",rel:"noopener noreferrer",children:(0,p.jsx)(h.k1O,{})}):null,t.twitter?(0,p.jsx)("a",{href:t.twitter,target:"_blank",rel:"noopener noreferrer",children:(0,p.jsx)(h.meP,{})}):null,t.youtube?(0,p.jsx)("a",{href:t.youtube,target:"_blank",rel:"noopener noreferrer",children:(0,p.jsx)(h.bUO,{})}):null,t.website?(0,p.jsx)("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",children:(0,p.jsx)(x.$Wy,{})}):null,t.mainLink?(0,p.jsx)("a",{href:t.mainLink,target:"_blank",rel:"noopener noreferrer",children:(0,p.jsx)(h.Gzp,{})}):null]})},v=function(e){var t=e.profile,s=e.status,r=e.updateUserStatus,n=e.isOwner,i=e.goToEditMode,o=t.fullName,a=t.aboutMe,l=t.lookingForAJob,u=t.lookingForAJobDescription,c=t.contacts;return(0,p.jsxs)("div",{className:"profile__info",children:[(0,p.jsx)("div",{className:"profile__name",children:o}),(0,p.jsx)("div",{className:"profile__status",children:(0,p.jsx)(f,{status:s,updateUserStatus:r})}),(0,p.jsxs)("div",{className:"profile__aboutMe",children:[(0,p.jsxs)("span",{className:"profile__key",children:["About ",o,":\xa0"]}),a||"no info"]}),(0,p.jsxs)("div",{className:"profile__job",children:[(0,p.jsxs)("span",{className:"profile__key",children:[o," is looking for a job:\xa0"]}),l?"YES":"NO"]}),(0,p.jsxs)("div",{className:"profile__lookingForAJobDescription",children:[(0,p.jsx)("span",{className:"profile__key",children:"Professional Description:\xa0"}),u||"no info"]}),(0,p.jsx)("div",{className:"profile__contacts",children:(0,p.jsx)(j,{contacts:c})}),n&&(0,p.jsx)("button",{className:"editMode_button",onClick:i,children:"Edit Profile"})]})},g=s(3896),m=function(e){var t=e.editProfile,s=e.setEditMode,r=e.profile,n=(0,g.cI)(),i=n.register,o=n.handleSubmit,c=r.fullName,d=r.aboutMe,f=r.lookingForAJobDescription,h=r.contacts,x=(0,l.useState)(c),j=(0,u.Z)(x,2),v=j[0],m=j[1],b=(0,l.useState)(d),_=(0,u.Z)(b,2),k=_[0],N=_[1],Z=(0,l.useState)(f),P=(0,u.Z)(Z,2),y=P[0],S=P[1],C=(0,l.useState)(h.github),T=(0,u.Z)(C,2),A=T[0],D=T[1],w=(0,l.useState)(h.vk),F=(0,u.Z)(w,2),M=F[0],U=F[1],O=(0,l.useState)(h.website),L=(0,u.Z)(O,2),J=L[0],E=L[1],q=(0,l.useState)(h.youtube),R=(0,u.Z)(q,2),I=R[0],$=R[1],B=(0,l.useState)(h.mainLink),G=(0,u.Z)(B,2),W=G[0],Y=G[1];return(0,p.jsxs)("form",{onSubmit:o((function(e){t(e),s(!1)})),className:"profileForm",children:[(0,p.jsx)("div",{className:"fullName",children:(0,p.jsxs)("label",{children:["FullName:",(0,p.jsx)("input",(0,a.Z)((0,a.Z)({required:!0,type:"text"},i("fullName")),{},{value:v,onChange:function(e){return m(e.currentTarget.value)}}))]})}),(0,p.jsx)("div",{className:"lookingForAJobDescription",children:(0,p.jsxs)("label",{children:["Professional Description:",(0,p.jsx)("input",(0,a.Z)((0,a.Z)({required:!0,type:"text"},i("lookingForAJobDescription")),{},{value:y,onChange:function(e){return S(e.currentTarget.value)}}))]})}),(0,p.jsx)("div",{className:"aboutMe",children:(0,p.jsxs)("label",{children:["About Me:",(0,p.jsx)("input",(0,a.Z)((0,a.Z)({required:!0,type:"text"},i("aboutMe")),{},{value:k,onChange:function(e){return N(e.currentTarget.value)}}))]})}),(0,p.jsx)("div",{className:"lookingForAJob",children:(0,p.jsxs)("label",{children:["Looking for a job:",(0,p.jsx)("input",(0,a.Z)({type:"checkbox"},i("lookingForAJob")))]})}),(0,p.jsxs)("div",{className:"contact",children:[(0,p.jsxs)("label",{children:["Github:",(0,p.jsx)("input",(0,a.Z)((0,a.Z)({type:"text"},i("contacts.github")),{},{value:A,onChange:function(e){return D(e.currentTarget.value)}}))]}),(0,p.jsxs)("label",{children:["Vk:",(0,p.jsx)("input",(0,a.Z)((0,a.Z)({type:"text"},i("contacts.vk")),{},{value:M,onChange:function(e){return U(e.currentTarget.value)}}))]}),(0,p.jsxs)("label",{children:["Website:",(0,p.jsx)("input",(0,a.Z)((0,a.Z)({type:"text"},i("contacts.website")),{},{value:J,onChange:function(e){return E(e.currentTarget.value)}}))]}),(0,p.jsxs)("label",{children:["Youtube:",(0,p.jsx)("input",(0,a.Z)((0,a.Z)({type:"text"},i("contacts.youtube")),{},{value:I,onChange:function(e){return $(e.currentTarget.value)}}))]}),(0,p.jsxs)("label",{children:["Main Link:",(0,p.jsx)("input",(0,a.Z)((0,a.Z)({type:"text"},i("contacts.mainLink")),{},{value:W,onChange:function(e){return Y(e.currentTarget.value)}}))]})]}),(0,p.jsxs)("div",{className:"profileForm__buttons",children:[(0,p.jsx)("button",{className:"btn__save",children:"Save"}),(0,p.jsx)("button",{onClick:function(){s(!1)},className:"btn__cancel",children:"Cancel"})]})]})};var b=function(e){var t=e.profile,s=e.status,r=e.updateUserStatus,n=e.isOwner,i=e.savePhoto,o=e.editProfile,a=(0,l.useState)(!1),f=(0,u.Z)(a,2),h=f[0],x=f[1];return t?(0,p.jsxs)("div",{className:"profileInfo",children:[(0,p.jsx)("div",{className:"profile__bgImg",children:"\xa0"}),(0,p.jsxs)("div",{className:"profile__desc",children:[(0,p.jsxs)("div",{className:"profile__img",children:[(0,p.jsx)("img",{src:t.photos.large||t.photos.small||c,alt:"profile"}),n&&(0,p.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&i(e.target.files[0])}})]}),h?(0,p.jsx)(m,{profile:t,editProfile:o,setEditMode:x}):(0,p.jsx)(v,{profile:t,status:s,updateUserStatus:r,isOwner:n,goToEditMode:function(){x(!0)}})]})]}):(0,p.jsx)(d.Z,{})},_=s(6508);var k=function(e){var t=e.message,s=e.likesCount,r=e.getDeletePost,n=e.likeTogglePost,i=e.id,o=e.isLiked;return(0,p.jsxs)("div",{className:"post",children:[(0,p.jsx)("div",{className:"post__message",children:t}),(0,p.jsxs)("label",{className:"post__likes",children:[s,(0,p.jsx)("button",{onClick:function(){return n(i)},children:o?"\u2764\ufe0f":"\ud83d\udda4"})]}),(0,p.jsx)("button",{className:"post__deleteButton",onClick:function(){return r(i)},children:"\u2573"})]})},N=function(e){var t=e.getAddPost,s=e.getDeletePost,r=e.postsData,n=e.likeTogglePost,i=(0,l.useState)(""),o=(0,u.Z)(i,2),a=o[0],c=o[1];return(0,p.jsx)("div",{className:"myPosts",children:(0,p.jsxs)("div",{className:"myPosts__wrapper",children:[(0,p.jsxs)("div",{className:"myPosts__add",children:[(0,p.jsx)("textarea",{onChange:function(e){return c(e.currentTarget.value)},className:"myPosts__textarea",value:a}),(0,p.jsx)("button",{onClick:function(){t(a),c("")},children:"Add a new post"})]}),(0,p.jsx)("div",{className:"myPosts__posts",children:r.map((function(e){return(0,p.jsx)(k,{message:e.post,id:e.id,likesCount:e.likesCount,isLiked:e.isLiked,getDeletePost:s,likeTogglePost:n},e.id)}))})]})})},Z=s(364),P=(0,Z.$j)((function(e){return{postsData:e.profileReducer.postsData}}),{getAddPost:_.EA,getDeletePost:_.ti,likeTogglePost:_.nX})(N);var y=function(e){var t=e.profile,s=e.status,r=e.updateUserStatus,n=e.isOwner,i=e.savePhoto,o=e.editProfile;return(0,p.jsx)("div",{className:"profile",children:(0,p.jsxs)("div",{className:"profile__wrapper",children:[(0,p.jsx)(b,{profile:t,status:s,updateUserStatus:r,isOwner:n,savePhoto:i,editProfile:o}),(0,p.jsx)(P,{})]})})},S=s(6871),C=s(7781),T=s(1548);var A=function(e){(0,i.Z)(s,e);var t=(0,o.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,n.Z)(s,[{key:"componentDidMount",value:function(){var e=this.props.router.params.userId||this.props.id;this.props.getProfile(e),this.props.getUserStatus(e)}},{key:"render",value:function(){return(0,p.jsx)(y,(0,a.Z)({savePhoto:this.props.savePhoto,editProfile:this.props.editProfile,isOwner:!this.props.router.params.userId},this.props))}}]),s}(l.Component),D=(0,C.qC)((0,Z.$j)((function(e){return{profile:e.profileReducer.profile,status:e.profileReducer.status,id:e.authReducer.id}}),{getProfile:_.Ai,getUserStatus:_.Tq,updateUserStatus:_.OL,savePhoto:_.Ju,editProfile:_.s2}),(function(e){return function(t){var s=(0,S.TH)(),r=(0,S.s0)(),n=(0,S.UO)();return(0,p.jsx)(e,(0,a.Z)((0,a.Z)({},t),{},{router:{location:s,navigate:r,params:n}}))}}),T.D)(A)},1548:function(e,t,s){s.d(t,{D:function(){return f}});var r=s(1413),n=s(5671),i=s(3144),o=s(136),a=s(8347),l=s(2791),u=s(6871),c=s(364),d=s(184),p=function(e){return{isAuth:e.authReducer.isAuth}},f=function(e){var t=function(t){(0,o.Z)(l,t);var s=(0,a.Z)(l);function l(){return(0,n.Z)(this,l),s.apply(this,arguments)}return(0,i.Z)(l,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(e,(0,r.Z)({},this.props)):(0,d.jsx)(u.Fg,{replace:!0,to:"/login"})}}]),l}(l.Component);return(0,c.$j)(p)(t)}},8516:function(e,t,s){e.exports=s.p+"static/media/defaultUserPhoto.b7f469972829ea0ed0c6.png"}}]);
//# sourceMappingURL=860.ff745558.chunk.js.map