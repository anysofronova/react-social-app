"use strict";(self.webpackChunkreact_social_app=self.webpackChunkreact_social_app||[]).push([[860],{7860:function(e,t,s){s.r(t),s.d(t,{default:function(){return J}});var r=s(5671),n=s(3144),o=s(136),i=s(8347),a=s(1413),l=s(2791),c=s(885),u=s(8516),d=s(6164),p=s(184),f=function(e){var t=e.updateUserStatus,s=e.status,r=e.isOwner,n=(0,l.useState)(!1),o=(0,c.Z)(n,2),i=o[0],a=o[1],u=(0,l.useState)(s),d=(0,c.Z)(u,2),f=d[0],h=d[1];(0,l.useEffect)((function(){h(s)}),[s]);var x=function(){r&&(i&&t(f),a(!i))};return(0,p.jsxs)("div",{className:"profileStatus",children:[i?(0,p.jsx)("input",{value:f,type:"text",className:"profileStatus__input",onBlur:x,autoFocus:!0,placeholder:"Put your status",onChange:function(e){h(e.currentTarget.value)}}):(0,p.jsx)("div",{className:"profileStatus__status",onDoubleClick:x,children:s||"The user has hidden the information"}),r?(0,p.jsx)("p",{style:{fontSize:"10px",color:"grey"},children:"DoubleClick to change status"}):null]})},h=s(9126),x=s(5880),j=function(e){var t=e.contacts;return(0,p.jsxs)("div",{className:"profile__contacts",children:[t.github?(0,p.jsx)("a",{href:t.github,target:"_blank",rel:"noopener noreferrer",children:(0,p.jsx)(h.rFR,{})}):null,t.vk?(0,p.jsx)("a",{href:t.vk,target:"_blank",rel:"noopener noreferrer",children:(0,p.jsx)(h.fFq,{})}):null,t.facebook?(0,p.jsx)("a",{href:t.facebook,target:"_blank",rel:"noopener noreferrer",children:(0,p.jsx)(h.k1O,{})}):null,t.twitter?(0,p.jsx)("a",{href:t.twitter,target:"_blank",rel:"noopener noreferrer",children:(0,p.jsx)(h.meP,{})}):null,t.youtube?(0,p.jsx)("a",{href:t.youtube,target:"_blank",rel:"noopener noreferrer",children:(0,p.jsx)(h.bUO,{})}):null,t.website?(0,p.jsx)("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",children:(0,p.jsx)(x.$Wy,{})}):null,t.mainLink?(0,p.jsx)("a",{href:t.mainLink,target:"_blank",rel:"noopener noreferrer",children:(0,p.jsx)(h.Gzp,{})}):null]})},m=function(e){var t=e.profile,s=e.status,r=e.updateUserStatus,n=e.isOwner,o=e.goToEditMode,i=t.fullName,a=t.aboutMe,l=t.lookingForAJob,c=t.lookingForAJobDescription,u=t.contacts;return(0,p.jsxs)("div",{className:"profile__info",children:[(0,p.jsx)("div",{className:"profile__name",children:i}),(0,p.jsx)("div",{className:"profile__status",children:(0,p.jsx)(f,{status:s,updateUserStatus:r,isOwner:n})}),(0,p.jsxs)("div",{className:"profile__aboutMe",children:[(0,p.jsxs)("span",{className:"profile__key",children:["About ",i,":\xa0"]}),a||"no info"]}),(0,p.jsxs)("div",{className:"profile__job",children:[(0,p.jsxs)("span",{className:"profile__key",children:[i," is looking for a job:\xa0"]}),l?"YES":"NO"]}),(0,p.jsxs)("div",{className:"profile__lookingForAJobDescription",children:[(0,p.jsx)("span",{className:"profile__key",children:"Professional Description:\xa0"}),c||"no info"]}),(0,p.jsx)("div",{className:"profile__contacts",children:(0,p.jsx)(j,{contacts:u})}),n&&(0,p.jsx)("button",{className:"editMode_button",onClick:o,children:"Edit Profile"})]})},b=s(5861),v=s(7757),g=s.n(v),k=s(3896),_=function(e){var t=e.editProfile,s=e.setEditMode,r=e.profile,n=e.error,o=e.editSuccess,i=r.contacts,l=i.github,c=i.vk,u=i.website,d=i.youtube,f=i.mainLink,h=(0,k.cI)({defaultValues:{fullName:r.fullName,aboutMe:r.aboutMe,lookingForAJob:r.lookingForAJob,lookingForAJobDescription:r.lookingForAJobDescription,"contacts.github":l,"contacts.vk":c,"contacts.website":u,"contacts.youtube":d,"contacts.mainLink":f}}),x=h.register,j=h.handleSubmit,m=function(){var e=(0,b.Z)(g().mark((function e(r){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(r);case 2:if(16!==e.sent){e.next=5;break}return e.abrupt("return");case 5:s(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,p.jsxs)("form",{onSubmit:j(m),className:"profileForm",children:[o?null:(0,p.jsxs)("p",{style:{color:"red"},children:["Error: ",n]}),(0,p.jsx)("div",{className:"fullName",children:(0,p.jsxs)("label",{children:["FullName:",(0,p.jsx)("input",(0,a.Z)({name:"fullName",required:!0,type:"text"},x("fullName")))]})}),(0,p.jsx)("div",{className:"lookingForAJobDescription",children:(0,p.jsxs)("label",{children:["Professional Description:",(0,p.jsx)("input",(0,a.Z)({name:"lookingForAJobDescription",required:!0,type:"text"},x("lookingForAJobDescription")))]})}),(0,p.jsx)("div",{className:"aboutMe",children:(0,p.jsxs)("label",{children:["About Me:",(0,p.jsx)("input",(0,a.Z)({name:"aboutMe",required:!0,type:"text"},x("aboutMe")))]})}),(0,p.jsx)("div",{className:"lookingForAJob",children:(0,p.jsxs)("label",{children:["Looking for a job:",(0,p.jsx)("input",(0,a.Z)({name:"lookingForAJob",type:"checkbox"},x("lookingForAJob")))]})}),(0,p.jsxs)("div",{className:"contact",children:[(0,p.jsxs)("label",{children:["Github:",(0,p.jsx)("input",(0,a.Z)({name:"contacts.github",type:"text"},x("contacts.github")))]}),(0,p.jsxs)("label",{children:["Vk:",(0,p.jsx)("input",(0,a.Z)({name:"contacts.vk",type:"text"},x("contacts.vk")))]}),(0,p.jsxs)("label",{children:["Website:",(0,p.jsx)("input",(0,a.Z)({name:"contacts.website",type:"text"},x("contacts.website")))]}),(0,p.jsxs)("label",{children:["Youtube:",(0,p.jsx)("input",(0,a.Z)({name:"contacts.youtube",type:"text"},x("contacts.youtube")))]}),(0,p.jsxs)("label",{children:["Main Link:",(0,p.jsx)("input",(0,a.Z)({name:"contacts.mainLink",type:"text"},x("contacts.mainLink")))]})]}),(0,p.jsxs)("div",{className:"profileForm__buttons",children:[(0,p.jsx)("button",{className:"btn__save",children:"Save"}),(0,p.jsx)("button",{onClick:function(){s(!1)},className:"btn__cancel",children:"Cancel"})]})]})};var N=function(e){var t=e.profile,s=e.status,r=e.updateUserStatus,n=e.isOwner,o=e.savePhoto,i=e.editProfile,a=e.error,f=e.editSuccess,h=(0,l.useState)(!1),x=(0,c.Z)(h,2),j=x[0],b=x[1];return t?(0,p.jsxs)("div",{className:"profileInfo",children:[(0,p.jsx)("div",{className:"profile__bgImg",children:"\xa0"}),(0,p.jsxs)("div",{className:"profile__desc",children:[(0,p.jsxs)("div",{className:"profile__img",children:[(0,p.jsx)("img",{src:t.photos.large||t.photos.small||u,alt:"profile"}),n&&(0,p.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&o(e.target.files[0])}})]}),j?(0,p.jsx)(_,{profile:t,editProfile:i,setEditMode:b,error:a,editSuccess:f}):(0,p.jsx)(m,{profile:t,status:s,updateUserStatus:r,isOwner:n,goToEditMode:function(){b(!0)}})]})]}):(0,p.jsx)(d.Z,{})},P=s(6508);var y=function(e){var t=e.message,s=e.likesCount,r=e.getDeletePost,n=e.likeTogglePost,o=e.id,i=e.isLiked;return(0,p.jsxs)("div",{className:"post",children:[(0,p.jsx)("div",{className:"post__message",children:t}),(0,p.jsxs)("label",{className:"post__likes",children:[s,(0,p.jsx)("button",{onClick:function(){return n(o)},children:i?"\u2764\ufe0f":"\ud83d\udda4"})]}),(0,p.jsx)("button",{className:"post__deleteButton",onClick:function(){return r(o)},children:"\u2573"})]})},S=function(e){var t=e.getAddPost,s=e.getDeletePost,r=e.postsData,n=e.likeTogglePost,o=(0,l.useState)(""),i=(0,c.Z)(o,2),a=i[0],u=i[1];return(0,p.jsx)("div",{className:"myPosts",children:(0,p.jsxs)("div",{className:"myPosts__wrapper",children:[(0,p.jsxs)("div",{className:"myPosts__add",children:[(0,p.jsx)("textarea",{onChange:function(e){return u(e.currentTarget.value)},className:"myPosts__textarea",value:a}),(0,p.jsx)("button",{onClick:function(){t(a),u("")},children:"Add a new post"})]}),(0,p.jsx)("div",{className:"myPosts__posts",children:r.map((function(e){return(0,p.jsx)(y,{message:e.post,id:e.id,likesCount:e.likesCount,isLiked:e.isLiked,getDeletePost:s,likeTogglePost:n},e.id)}))})]})})},Z=s(364),w=(0,Z.$j)((function(e){return{postsData:e.profileReducer.postsData}}),{getAddPost:P.EA,getDeletePost:P.ti,likeTogglePost:P.nX})(S);var A=function(e){var t=e.profile,s=e.status,r=e.updateUserStatus,n=e.isOwner,o=e.savePhoto,i=e.editProfile,a=e.error,l=e.editSuccess;return(0,p.jsx)("div",{className:"profile",children:(0,p.jsxs)("div",{className:"profile__wrapper",children:[(0,p.jsx)(N,{profile:t,status:s,updateUserStatus:r,isOwner:n,savePhoto:o,editProfile:i,error:a,editSuccess:l}),(0,p.jsx)(w,{})]})})},D=s(6871),F=s(7781),C=s(1548);var M=function(e){(0,o.Z)(s,e);var t=(0,i.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,n.Z)(s,[{key:"componentDidMount",value:function(){var e=this.props.router.params.userId||this.props.id;this.props.getProfile(e),this.props.getUserStatus(e)}},{key:"render",value:function(){return(0,p.jsx)(A,(0,a.Z)({savePhoto:this.props.savePhoto,editProfile:this.props.editProfile,isOwner:!this.props.router.params.userId},this.props))}}]),s}(l.Component),J=(0,F.qC)((0,Z.$j)((function(e){return{profile:e.profileReducer.profile,status:e.profileReducer.status,id:e.authReducer.id,error:e.profileReducer.error,editSuccess:e.profileReducer.editSuccess}}),{getProfile:P.Ai,getUserStatus:P.Tq,updateUserStatus:P.OL,savePhoto:P.Ju,editProfile:P.s2}),(function(e){return function(t){var s=(0,D.TH)(),r=(0,D.s0)(),n=(0,D.UO)();return(0,p.jsx)(e,(0,a.Z)((0,a.Z)({},t),{},{router:{location:s,navigate:r,params:n}}))}}),C.D)(M)},1548:function(e,t,s){s.d(t,{D:function(){return f}});var r=s(1413),n=s(5671),o=s(3144),i=s(136),a=s(8347),l=s(2791),c=s(6871),u=s(364),d=s(184),p=function(e){return{isAuth:e.authReducer.isAuth}},f=function(e){var t=function(t){(0,i.Z)(l,t);var s=(0,a.Z)(l);function l(){return(0,n.Z)(this,l),s.apply(this,arguments)}return(0,o.Z)(l,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(e,(0,r.Z)({},this.props)):(0,d.jsx)(c.Fg,{replace:!0,to:"/login"})}}]),l}(l.Component);return(0,u.$j)(p)(t)}},8516:function(e,t,s){e.exports=s.p+"static/media/defaultUserPhoto.b7f469972829ea0ed0c6.png"}}]);
//# sourceMappingURL=860.dafdcf97.chunk.js.map