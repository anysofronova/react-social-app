"use strict";(self.webpackChunkreact_social_app=self.webpackChunkreact_social_app||[]).push([[992],{5992:function(e,t,s){s.r(t),s.d(t,{default:function(){return C}});var r=s(5671),a=s(3144),i=s(136),n=s(8347),o=s(1413),u=s(2791),l=s(8516),c=s(6164),p=s(885),d=s(184),f=function(e){var t=e.updateUserStatus,s=e.status,r=(0,u.useState)(!1),a=(0,p.Z)(r,2),i=a[0],n=a[1],o=(0,u.useState)(s),l=(0,p.Z)(o,2),c=l[0],f=l[1];(0,u.useEffect)((function(){f(s)}),[s]);var h=function(){i&&t(c),n(!i)};return(0,d.jsx)("div",{className:"profileStatus",children:i?(0,d.jsx)("input",{value:c,type:"text",className:"profileStatus__input",onBlur:h,autoFocus:!0,placeholder:"Put your status",onChange:function(e){f(e.currentTarget.value)}}):(0,d.jsx)("div",{className:"profileStatus__status",onDoubleClick:h,children:s||"The user has hidden the information"})})};var h=function(e){var t=e.profile,s=e.status,r=e.updateUserStatus;return t?(0,d.jsxs)("div",{className:"profileInfo",children:[(0,d.jsx)("div",{className:"profile__bgimg"}),(0,d.jsxs)("div",{className:"profile__desc",children:[(0,d.jsx)("div",{className:"profile__img",children:(0,d.jsx)("img",{src:t.photos.large||t.photos.small||l,alt:"profile"})}),(0,d.jsx)("div",{className:"profile__name",children:t.fullName}),(0,d.jsx)("div",{className:"profile__status",children:(0,d.jsx)(f,{status:s,updateUserStatus:r})})]})]}):(0,d.jsx)(c.Z,{})},m=s(6508);var v=function(e){var t=e.message,s=e.likesCount,r=e.getDeletePost,a=e.likeTogglePost,i=e.id,n=e.isLiked;return(0,d.jsxs)("div",{className:"post",children:[(0,d.jsx)("div",{className:"post__message",children:t}),(0,d.jsxs)("label",{className:"post__likes",children:[s,(0,d.jsx)("button",{onClick:function(){return a(i)},children:n?"\u2764\ufe0f":"\ud83d\udda4"})]}),(0,d.jsx)("button",{className:"post__deleteButton",onClick:function(){return r(i)},children:"\u2573"})]})},x=function(e){var t=e.getAddPost,s=e.getDeletePost,r=e.postsData,a=e.likeTogglePost,i=(0,u.useState)(""),n=(0,p.Z)(i,2),o=n[0],l=n[1];return(0,d.jsx)("div",{className:"myPosts",children:(0,d.jsxs)("div",{className:"myPosts__wrapper",children:[(0,d.jsxs)("div",{className:"myPosts__add",children:[(0,d.jsx)("textarea",{onChange:function(e){return l(e.currentTarget.value)},className:"myPosts__textarea",value:o}),(0,d.jsx)("button",{onClick:function(){t(o),l("")},children:"Add a new post"})]}),(0,d.jsx)("div",{className:"myPosts__posts",children:r.map((function(e){return(0,d.jsx)(v,{message:e.post,id:e.id,likesCount:e.likesCount,isLiked:e.isLiked,getDeletePost:s,likeTogglePost:a},e.id)}))})]})})},j=s(364),g=(0,j.$j)((function(e){return{postsData:e.profileReducer.postsData}}),{getAddPost:m.EA,getDeletePost:m.ti,likeTogglePost:m.nX})(x);var _=function(e){var t=e.profile,s=e.status,r=e.updateUserStatus;return(0,d.jsx)("div",{className:"profile",children:(0,d.jsxs)("div",{className:"profile__wrapper",children:[(0,d.jsx)(h,{profile:t,status:s,updateUserStatus:r}),(0,d.jsx)(g,{})]})})},k=s(6871),N=s(7781),P=s(1548);var Z=function(e){(0,i.Z)(s,e);var t=(0,n.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,a.Z)(s,[{key:"componentDidMount",value:function(){var e=this.props.router.params.userId||this.props.id;this.props.getProfile(e),this.props.getUserStatus(e)}},{key:"render",value:function(){return(0,d.jsx)(_,(0,o.Z)({},this.props))}}]),s}(u.Component),C=(0,N.qC)((0,j.$j)((function(e){return{profile:e.profileReducer.profile,status:e.profileReducer.status,id:e.authReducer.id}}),{getProfile:m.Ai,getUserStatus:m.Tq,updateUserStatus:m.OL}),(function(e){return function(t){var s=(0,k.TH)(),r=(0,k.s0)(),a=(0,k.UO)();return(0,d.jsx)(e,(0,o.Z)((0,o.Z)({},t),{},{router:{location:s,navigate:r,params:a}}))}}),P.D)(Z)},1548:function(e,t,s){s.d(t,{D:function(){return f}});var r=s(1413),a=s(5671),i=s(3144),n=s(136),o=s(8347),u=s(2791),l=s(6871),c=s(364),p=s(184),d=function(e){return{isAuth:e.authReducer.isAuth}},f=function(e){var t=function(t){(0,n.Z)(u,t);var s=(0,o.Z)(u);function u(){return(0,a.Z)(this,u),s.apply(this,arguments)}return(0,i.Z)(u,[{key:"render",value:function(){return this.props.isAuth?(0,p.jsx)(e,(0,r.Z)({},this.props)):(0,p.jsx)(l.Fg,{replace:!0,to:"/login"})}}]),u}(u.Component);return(0,c.$j)(d)(t)}},8516:function(e,t,s){e.exports=s.p+"static/media/defaultUserPhoto.b7f469972829ea0ed0c6.png"}}]);
//# sourceMappingURL=992.50d8e76c.chunk.js.map